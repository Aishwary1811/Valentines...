<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Lakshita üíñ - 7 Days of Love</title>
    <meta name="description" content="A special Valentine's Week journey for Lakshita from Aishwary.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Quicksand:wght@500;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        :root {
            --pink-bg: #ffdde1;
            --pink-dark: #c75a65;
            --pink-accent: #e67783;
            --heart: #e5737c;
            --text-dark: #5b2d32;
            --gold: #ffd700;
            --silver: #c0c0c0;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Quicksand", sans-serif;
            background: linear-gradient(135deg, #9d174d 0%, #831843 50%, #7c2d5e 100%);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated heart background */
        body::before {
            content: "üíï üíñ üíó üíì üíû üíò üíù";
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            font-size: 40px;
            opacity: 0.08;
            z-index: 0;
            word-spacing: 100px;
            line-height: 100px;
            animation: scrollHearts 40s linear infinite;
            pointer-events: none;
        }

        @keyframes scrollHearts {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .container {
            width: min(1000px, 95vw);
            position: relative;
            z-index: 1;
        }

        .page {
            display: none;
            text-align: center;
            padding: 40px 30px 80px;
            animation: fadeIn 0.6s ease;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 30px;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            border: 3px solid rgba(255, 255, 255, 0.9);
        }

        .page.is-active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .title {
            font-family: "Pacifico", cursive;
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: var(--pink-dark);
            margin-bottom: 15px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
            animation: titleFloat 3s ease-in-out infinite;
        }

        @keyframes titleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .subtitle {
            font-family: "Patrick Hand", cursive;
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            color: var(--pink-dark);
            margin-top: 20px;
        }

        .personalized-greeting {
            font-family: "Patrick Hand", cursive;
            font-size: 1.4rem;
            color: var(--pink-dark);
            margin-bottom: 25px;
            font-style: italic;
        }

        /* NEW: Sparkle animation for headings */
        .sparkle-text {
            position: relative;
            display: inline-block;
        }

        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--gold);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            filter: drop-shadow(0 0 8px var(--gold));
        }

        /* NEW: Confetti container */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
        }

        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            opacity: 0;
            transform-origin: center;
        }

        /* NEW: Fireworks */
        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9997;
        }

        /* Photo Display */
        .photo-frame {
            width: min(450px, 85vw);
            margin: 25px auto;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            border: 5px solid white;
            animation: photoGlow 3s ease-in-out infinite;
        }

        @keyframes photoGlow {
            0%, 100% { box-shadow: 0 15px 40px rgba(230, 119, 131, 0.3); }
            50% { box-shadow: 0 20px 50px rgba(230, 119, 131, 0.5); }
        }

        .photo-frame img {
            width: 100%;
            display: block;
            transition: transform 0.3s ease;
        }

        .photo-frame:hover img {
            transform: scale(1.05);
        }

        /* NEW: Photo hover sparkles */
        .photo-sparkle {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, var(--gold) 30%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            filter: blur(2px);
        }

        /* Bear Stage */
        .bear-stage {
            width: 100%;
            max-width: 600px;
            height: 350px;
            margin: 30px auto;
            position: relative;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 245, 250, 0.6) 100%);
            border-radius: 25px;
            border: 3px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: visible;
        }

        .bear-character {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .bear-character:hover {
            transform: scale(1.15) !important;
            filter: brightness(1.1);
        }

        .bear-emoji {
            font-size: 120px;
            display: block;
            filter: drop-shadow(0 8px 15px rgba(0, 0, 0, 0.2));
            animation: gentleBreathe 3s ease-in-out infinite;
        }

        @keyframes gentleBreathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .bear-male {
            left: 12%;
            top: 50%;
            transform: translateY(-50%);
        }

        .bear-female {
            right: 12%;
            top: 50%;
            transform: translateY(-50%);
        }

        .bear-name {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: "Patrick Hand", cursive;
            font-size: 1.1rem;
            color: var(--pink-dark);
            font-weight: bold;
            white-space: nowrap;
            background: white;
            padding: 6px 18px;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* NEW: Bear pulse effect */
        .bear-pulse {
            position: absolute;
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 4px solid rgba(255, 107, 157, 0.3);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            opacity: 0;
        }

        /* HUG ANIMATION */
        .hug-animation .bear-male {
            animation: hugMale 2.5s ease-in-out forwards;
        }

        .hug-animation .bear-female {
            animation: hugFemale 2.5s ease-in-out forwards;
        }

        @keyframes hugMale {
            0% { 
                left: 12%;
                transform: translateY(-50%) rotate(0deg) scale(1);
            }
            40%, 60% { 
                left: 37%;
                transform: translateY(-50%) rotate(-15deg) scale(1.25);
            }
            100% { 
                left: 12%;
                transform: translateY(-50%) rotate(0deg) scale(1);
            }
        }

        @keyframes hugFemale {
            0% { 
                right: 12%;
                transform: translateY(-50%) rotate(0deg) scale(1);
            }
            40%, 60% { 
                right: 37%;
                transform: translateY(-50%) rotate(15deg) scale(1.25);
            }
            100% { 
                right: 12%;
                transform: translateY(-50%) rotate(0deg) scale(1);
            }
        }

        /* KISS ANIMATION */
        .kiss-animation .bear-male {
            animation: blowKissMale 2s ease-in-out;
        }

        .kiss-animation .bear-female {
            animation: blowKissFemale 2s ease-in-out;
        }

        @keyframes blowKissMale {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            20%, 80% { transform: translateY(-50%) rotate(-12deg) scale(1.1); }
            50% { transform: translateY(-50%) rotate(8deg) scale(1.2); }
        }

        @keyframes blowKissFemale {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            20%, 80% { transform: translateY(-50%) rotate(12deg) scale(1.1); }
            50% { transform: translateY(-50%) rotate(-8deg) scale(1.2); }
        }

        /* DANCE ANIMATION */
        .dance-animation .bear-male,
        .dance-animation .bear-female {
            animation: danceBear 0.7s ease-in-out infinite !important;
        }

        @keyframes danceBear {
            0%, 100% { transform: translateY(-50%) rotate(-12deg); }
            25% { transform: translateY(-58%) rotate(12deg); }
            50% { transform: translateY(-50%) rotate(-12deg) scale(1.08); }
            75% { transform: translateY(-58%) rotate(12deg); }
        }

        /* WAVE ANIMATION */
        .wave-animation .bear-emoji {
            animation: waveBear 0.6s ease-in-out 4;
        }

        @keyframes waveBear {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-25deg) scale(1.15); }
            75% { transform: rotate(25deg) scale(1.15); }
        }

        /* NEW: JUMP ANIMATION */
        .jump-animation .bear-male,
        .jump-animation .bear-female {
            animation: jumpBear 0.8s ease-in-out;
        }

        @keyframes jumpBear {
            0%, 100% { transform: translateY(-50%) scale(1); }
            30% { transform: translateY(-70%) scale(1.1) rotate(10deg); }
            60% { transform: translateY(-50%) scale(1.05) rotate(-5deg); }
        }

        /* FLYING KISS HEARTS */
        .kiss-heart {
            position: absolute;
            font-size: 55px;
            pointer-events: none;
            z-index: 100;
        }

        .kiss-heart.from-male {
            animation: flyKissRight 2.5s ease-out forwards;
        }

        .kiss-heart.from-female {
            animation: flyKissLeft 2.5s ease-out forwards;
        }

        @keyframes flyKissRight {
            0% {
                left: 22%;
                top: 38%;
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            20% {
                opacity: 1;
                transform: scale(1.3) rotate(60deg);
            }
            100% {
                left: 78%;
                top: 33%;
                opacity: 0;
                transform: scale(0.7) rotate(720deg);
            }
        }

        @keyframes flyKissLeft {
            0% {
                right: 22%;
                top: 38%;
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            20% {
                opacity: 1;
                transform: scale(1.3) rotate(-60deg);
            }
            100% {
                right: 78%;
                top: 33%;
                opacity: 0;
                transform: scale(0.7) rotate(-720deg);
            }
        }

        /* HEART EXPLOSIONS */
        .heart-explosion {
            position: absolute;
            font-size: 45px;
            pointer-events: none;
            animation: explodeHeart 2.2s ease-out forwards;
            z-index: 50;
        }

        @keyframes explodeHeart {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.2) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) translateY(-180px) scale(2) rotate(1080deg);
            }
        }

        /* NEW: RAINBOW HEARTS */
        .rainbow-heart {
            position: absolute;
            font-size: 40px;
            pointer-events: none;
            animation: rainbowFloat 3s ease-out forwards;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }

        @keyframes rainbowFloat {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }
            20% {
                opacity: 1;
                transform: translateY(-20px) rotate(180deg) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) rotate(720deg) scale(0.8);
            }
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 35px;
            flex-wrap: wrap;
        }

        .btn {
            border: none;
            background: linear-gradient(135deg, var(--pink-accent), var(--heart));
            color: white;
            font-weight: 700;
            padding: 16px 45px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 1.15rem;
            box-shadow: 0 8px 0 rgba(156, 72, 82, 0.35), 0 12px 28px rgba(0, 0, 0, 0.25);
            transition: all 0.2s ease;
            font-family: "Quicksand", sans-serif;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
            overflow: hidden;
        }

        /* NEW: Button ripple effect */
        .btn-ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 14px 0 rgba(156, 72, 82, 0.35), 0 18px 35px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(3px);
            box-shadow: 0 5px 0 rgba(156, 72, 82, 0.35), 0 6px 18px rgba(0, 0, 0, 0.2);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #d8606b, #c75a65);
        }

        .nav-heart {
            position: absolute;
            right: 18px;
            bottom: 18px;
            width: 90px;
            height: 80px;
            background: linear-gradient(135deg, var(--heart), #ff6b9d);
            border-radius: 50% 50% 45% 45%;
            transform: rotate(-12deg);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
            transition: all 0.3s ease;
            animation: heartPulse 2s ease-in-out infinite;
            overflow: hidden;
        }

        @keyframes heartPulse {
            0%, 100% { transform: rotate(-12deg) scale(1); }
            50% { transform: rotate(-12deg) scale(1.1); }
        }

        .nav-heart:hover {
            transform: rotate(-12deg) scale(1.2) !important;
            box-shadow: 0 10px 25px rgba(255, 0, 102, 0.5);
        }

        .nav-heart:active {
            transform: rotate(-12deg) scale(0.95) !important;
        }

        .nav-heart span {
            transform: rotate(12deg);
            font-size: 0.95rem;
        }

        .message-box {
            background: white;
            padding: 28px;
            border-radius: 22px;
            margin: 25px auto;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            text-align: left;
            border: 3px solid rgba(255, 200, 210, 0.6);
            position: relative;
            overflow: hidden;
        }

        /* NEW: Message box sparkle border */
        .message-box::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ff6b9d, #ff9999, #ffd700, #ff6b9d);
            border-radius: 25px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .message-box:hover::before {
            opacity: 0.3;
            animation: borderGlow 2s linear infinite;
        }

        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .message-box p {
            line-height: 1.9;
            margin-bottom: 14px;
            font-size: 1.1rem;
        }

        .instruction {
            background: linear-gradient(135deg, #ff6b9d, #ff9999);
            color: white;
            padding: 20px 28px;
            border-radius: 18px;
            margin: 25px auto;
            max-width: 600px;
            font-weight: bold;
            font-size: 1.15rem;
            animation: instructionPulse 2.5s ease-in-out infinite;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.5);
            position: relative;
            overflow: hidden;
        }

        @keyframes instructionPulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 8px 25px rgba(255, 107, 157, 0.5); 
            }
            50% { 
                transform: scale(1.04); 
                box-shadow: 0 12px 30px rgba(255, 107, 157, 0.7); 
            }
        }

        /* NEW: Instruction sparkles */
        .instruction-sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            filter: blur(1px);
        }

        /* Love Notes */
        .love-notes {
            margin-top: 30px;
        }

        .love-note-trigger {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--pink-accent), #ff9999);
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            margin: 10px;
            animation: noteBounce 2.5s ease-in-out infinite;
            box-shadow: 0 6px 18px rgba(230, 119, 131, 0.5);
            transition: all 0.3s ease;
        }

        .love-note-trigger:nth-child(2) {
            animation-delay: 0.4s;
        }

        .love-note-trigger:nth-child(3) {
            animation-delay: 0.8s;
        }

        @keyframes noteBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .love-note-trigger:hover {
            transform: scale(1.3) rotate(360deg) !important;
            animation: none;
            box-shadow: 0 10px 28px rgba(230, 119, 131, 0.7);
        }

        .love-note-trigger::before {
            content: "üíå";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 28px;
        }

        /* NEW: Love note sparkle effect */
        .love-note-sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
        }

        .love-note-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 45px;
            border-radius: 28px;
            box-shadow: 0 20px 70px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            max-width: 500px;
            width: 92%;
            border: 4px solid var(--pink-accent);
        }

        .love-note-popup.active {
            display: block;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes popIn {
            0% {
                transform: translate(-50%, -50%) scale(0.2) rotate(-360deg);
                opacity: 0;
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .love-note-close {
            position: absolute;
            top: 18px;
            right: 18px;
            background: var(--pink-accent);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 26px;
            line-height: 1;
            transition: all 0.2s ease;
        }

        .love-note-close:hover {
            transform: rotate(90deg) scale(1.15);
            background: var(--heart);
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.65);
            z-index: 999;
            backdrop-filter: blur(8px);
        }

        .overlay.active {
            display: block;
            animation: fadeInOverlay 0.3s ease;
        }

        @keyframes fadeInOverlay {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Floating hearts */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 998;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 35px;
            animation: float 9s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.95;
            }
            90% {
                opacity: 0.95;
            }
            100% {
                transform: translateY(-180px) rotate(720deg);
                opacity: 0;
            }
        }

        /* NEW: Special floating hearts */
        .special-heart {
            position: absolute;
            font-size: 50px;
            animation: specialFloat 12s ease-in-out infinite;
            opacity: 0;
            filter: drop-shadow(0 0 10px currentColor);
        }

        @keyframes specialFloat {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: translateY(90vh) rotate(180deg) scale(1.2);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-200px) rotate(1440deg) scale(0.8);
                opacity: 0;
            }
        }

        /* Music toggle */
        .music-toggle {
            position: fixed;
            top: 22px;
            right: 22px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--pink-accent), #ff9999);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 30px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 8px 25px rgba(230, 119, 131, 0.5);
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            transform: scale(1.18) rotate(20deg);
            box-shadow: 0 12px 30px rgba(230, 119, 131, 0.7);
        }

        /* NEW: Sound effects toggle */
        .sound-toggle {
            position: fixed;
            top: 22px;
            right: 100px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #6bb5ff, #4285f4);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 30px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 8px 25px rgba(66, 133, 244, 0.5);
            transition: all 0.3s ease;
        }

        .sound-toggle:hover {
            transform: scale(1.18) rotate(-20deg);
            box-shadow: 0 12px 30px rgba(66, 133, 244, 0.7);
        }

        /* NEW: Celebration message */
        .celebration-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #ff6b9d, #ff9999, #ffd700, #ff6b9d);
            padding: 30px 50px;
            border-radius: 25px;
            font-family: "Pacifico", cursive;
            font-size: 3rem;
            color: white;
            z-index: 10000;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
            display: none;
            text-align: center;
            animation: celebrationPulse 0.5s ease-in-out infinite;
        }

        @keyframes celebrationPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        /* NEW: Page transition overlay */
        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff6b9d, #ff9999, #ffd700);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
            font-family: "Pacifico", cursive;
            font-size: 4rem;
            color: white;
        }

        .page-transition.active {
            display: flex;
            animation: pageTransition 1s ease-in-out forwards;
        }

        @keyframes pageTransition {
            0% { opacity: 0; transform: scale(0.8); }
            20% { opacity: 1; transform: scale(1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.2); display: none; }
        }

        @media (max-width: 650px) {
            .bear-stage {
                height: 280px;
            }

            .bear-emoji {
                font-size: 90px;
            }

            .bear-name {
                font-size: 0.95rem;
                bottom: -35px;
            }

            .buttons {
                flex-direction: column;
            }

            .nav-heart {
                position: static;
                margin: 30px auto 0;
            }

            .title {
                font-size: clamp(1.7rem, 7vw, 3rem);
            }

            .photo-frame {
                width: 95vw;
            }

            .sound-toggle {
                right: 90px;
                top: 100px;
            }

            .celebration-message {
                font-size: 2rem;
                padding: 20px 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Music Toggle -->
    <button class="music-toggle" id="musicToggle" title="Toggle music">üéµ</button>
    
    <!-- NEW: Sound Effects Toggle -->
    <button class="sound-toggle" id="soundToggle" title="Toggle sound effects">üîä</button>

    <!-- NEW: Page Transition -->
    <div class="page-transition" id="pageTransition">
        <div class="transition-text">üíñ</div>
    </div>

    <!-- NEW: Celebration Message -->
    <div class="celebration-message" id="celebrationMessage">
        I LOVE YOU! üíï
    </div>

    <!-- NEW: Confetti Container -->
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- Floating Hearts -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Love Note Popup -->
    <div class="love-note-popup" id="loveNotePopup">
        <button class="love-note-close" id="closeNote">√ó</button>
        <div id="loveNoteContent"></div>
    </div>

    <div class="container">
        <!-- Start Page -->
        <section class="page is-active" data-page="start">
            <div class="title sparkle-text">Ready for 7 days of love? üíï</div>
            <p class="personalized-greeting">For my dearest Lakshita üíñ</p>
            
            <div class="photo-frame" id="startPhoto">
                <img src="https://i.imgur.com/y7xhfbq.png" alt="Lakshita" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Lakshita üíñ</text></svg>'">
            </div>

            <div class="bear-stage" id="startStage">
                <div class="bear-character bear-male" onclick="interactBears('start', 'jump')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('start', 'jump')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="buttons">
                <button class="btn" data-target="rose" id="yesBtn">YES! üíñ</button>
                <button class="btn secondary" data-target="no" id="noBtn">NO üò¢</button>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="start1"></span>
                <span class="love-note-trigger" data-note="start2"></span>
                <span class="love-note-trigger" data-note="start3"></span>
            </div>
        </section>

        <!-- No Page -->
        <section class="page" data-page="no">
            <div class="title">Why did u click no!? üò¢</div>
            <p class="personalized-greeting">Lakshtuu pleaseeee! ü•∫</p>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/hGvqTpH.png" alt="Sad moment" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Sad Moment üò¢</text></svg>'">
            </div>

            <div class="bear-stage">
                <div class="bear-character bear-male" style="left: 50%; transform: translate(-50%, -50%);" onclick="playSadSound()">
                    <span class="bear-emoji" style="animation: sadShake 0.5s ease-in-out infinite;">üò¢</span>
                    <div class="bear-name">Sad Aishwary</div>
                </div>
            </div>

            <div class="buttons">
                <button class="btn" data-target="start" id="tryAgainBtn">TRY AGAIN üíï</button>
            </div>
        </section>

        <!-- Rose Day -->
        <section class="page" data-page="rose">
            <div class="title sparkle-text">phool for my fool üåπ</div>
            <p class="personalized-greeting">Dear Lakshtuu,</p>
            <div class="subtitle">HAPPY ROSE DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/kujwEF6.png" alt="Rose Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Rose Day üåπ</text></svg>'">
            </div>

            <div class="bear-stage" id="roseStage">
                <div class="bear-character bear-male" onclick="interactBears('rose', 'wave')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('rose', 'wave')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click the bears to see them interact! üåπ
            </div>

            <div class="message-box">
                <p>üåπ Every rose reminds me of you, Lakshita - beautiful, precious, and special.</p>
                <p>Just like a rose, you bring beauty and joy to everyone around you! üíñ</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="rose1"></span>
                <span class="love-note-trigger" data-note="rose2"></span>
            </div>
            
            <button class="nav-heart" data-next="propose" id="roseNextBtn"><span>NEXT</span></button>
        </section>

        <!-- Propose Day -->
        <section class="page" data-page="propose">
            <div class="title sparkle-text">Will you be mine? üíç</div>
            <p class="personalized-greeting">My dear Lakshita,</p>
            <div class="subtitle">HAPPY PROPOSE DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/sxzXIn1.png" alt="Propose Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Propose Day üíç</text></svg>'">
            </div>

            <div class="bear-stage" id="proposeStage">
                <div class="bear-character bear-male" onclick="interactBears('propose', 'special')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('propose', 'special')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click for a special proposal animation! üíç
            </div>

            <div class="message-box">
                <p>üíç Today I want to tell you how special you are to me, Lakshtuu.</p>
                <p>You make every day brighter and more beautiful! ‚ú®</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="propose1"></span>
                <span class="love-note-trigger" data-note="propose2"></span>
            </div>
            
            <button class="nav-heart" data-next="chocolate"><span>NEXT</span></button>
        </section>

        <!-- Chocolate Day -->
        <section class="page" data-page="chocolate">
            <div class="title sparkle-text">I ate ur chocolate btw üòã</div>
            <p class="personalized-greeting">Sorry Lakshtuu... not sorry! üç´</p>
            <div class="subtitle">HAPPY CHOCOLATE DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/HajZHel.png" alt="Chocolate Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Chocolate Day üç´</text></svg>'">
            </div>

            <div class="bear-stage" id="chocolateStage">
                <div class="bear-character bear-male" onclick="interactBears('chocolate', 'wave')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('chocolate', 'wave')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click to share chocolates! üç´
            </div>

            <div class="message-box">
                <p>üç´ You're sweeter than the sweetest chocolate, Lakshita!</p>
                <p>But don't worry, I saved some for you... maybe! üòã</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="choco1"></span>
                <span class="love-note-trigger" data-note="choco2"></span>
            </div>
            
            <button class="nav-heart" data-next="teddy"><span>NEXT</span></button>
        </section>

        <!-- Teddy Day -->
        <section class="page" data-page="teddy">
            <div class="title sparkle-text">my personal cuddle teddybear üß∏</div>
            <p class="personalized-greeting">My cuddly Lakshtuu,</p>
            <div class="subtitle">HAPPY TEDDY DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/id4vH7K.png" alt="Teddy Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Teddy Day üß∏</text></svg>'">
            </div>

            <div class="bear-stage" id="teddyStage">
                <div class="bear-character bear-male" onclick="interactBears('teddy', 'hug')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('teddy', 'hug')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click for cuddles! ü§ó
            </div>

            <div class="message-box">
                <p>üß∏ You're my favorite cuddle buddy, Lakshita!</p>
                <p>Always warm, always comforting, always there when I need you!</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="teddy1"></span>
                <span class="love-note-trigger" data-note="teddy2"></span>
            </div>
            
            <button class="nav-heart" data-next="promise"><span>NEXT</span></button>
        </section>

        <!-- Promise Day -->
        <section class="page" data-page="promise">
            <div class="title sparkle-text">I promise to stay by ur side ü§û</div>
            <p class="personalized-greeting">Forever yours, Lakshita,</p>
            <div class="subtitle">HAPPY PROMISE DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/ouH5CWq.png" alt="Promise Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Promise Day ü§û</text></svg>'">
            </div>

            <div class="bear-stage" id="promiseStage">
                <div class="bear-character bear-male" onclick="interactBears('promise', 'special')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('promise', 'special')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click to seal the promise! ü§û
            </div>

            <div class="message-box">
                <p>ü§û I promise to always be there for you, Lakshtuu.</p>
                <p>Through smiles and tears, I'll be by your side! üíï</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="promise1"></span>
                <span class="love-note-trigger" data-note="promise2"></span>
            </div>
            
            <button class="nav-heart" data-next="hug"><span>NEXT</span></button>
        </section>

        <!-- Hug Day -->
        <section class="page" data-page="hug">
            <div class="title sparkle-text">Virtual hug for ya! ü§ó</div>
            <p class="personalized-greeting">*Big warm hug for Lakshtuu*</p>
            <div class="subtitle">HAPPY HUG DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/xAJorHH.png" alt="Hug Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Hug Day ü§ó</text></svg>'">
            </div>

            <div class="bear-stage" id="hugStage">
                <div class="bear-character bear-male" onclick="interactBears('hug', 'hug')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('hug', 'hug')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click to see the BIGGEST HUG! ü§óüíï
            </div>

            <div class="message-box">
                <p>ü§ó Sending you the warmest, tightest virtual hug, Lakshita! ü´Ç</p>
                <p>Feel the love wrapped around you!</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="hug1"></span>
                <span class="love-note-trigger" data-note="hug2"></span>
            </div>
            
            <button class="nav-heart" data-next="kiss"><span>NEXT</span></button>
        </section>

        <!-- Kiss Day -->
        <section class="page" data-page="kiss">
            <div class="title sparkle-text">You wear my kisses better than me üíã</div>
            <p class="personalized-greeting">With all my love, Lakshtuu,</p>
            <div class="subtitle">HAPPY KISS DAY</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/WutyxHb.png" alt="Kiss Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Kiss Day üíã</text></svg>'">
            </div>

            <div class="bear-stage" id="kissStage">
                <div class="bear-character bear-male" onclick="interactBears('kiss', 'kiss')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('kiss', 'kiss')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üëÜ Click to blow KISSES! üòòüíã
            </div>

            <div class="message-box">
                <p>üíã Sending you virtual kisses filled with love, Lakshita!</p>
                <p>You make everything sweeter and more magical!</p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="kiss1"></span>
                <span class="love-note-trigger" data-note="kiss2"></span>
            </div>
            
            <button class="nav-heart" data-next="valentine"><span>NEXT</span></button>
        </section>

        <!-- Valentine's Day -->
        <section class="page" data-page="valentine">
            <div class="title sparkle-text">HAPPY VALENTINE'S DAY üíï</div>
            <p class="personalized-greeting">My dearest Lakshita,</p>
            <div class="subtitle">will you be my permanent Valentine? üíï</div>
            
            <div class="photo-frame">
                <img src="https://i.imgur.com/mBfFdFh.png" alt="Valentine's Day" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"300\" viewBox=\"0 0 400 300\"><rect width=\"400\" height=\"300\" fill=\"%23ffdde1\"/><text x=\"200\" y=\"150\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"%23c75a65\">Valentine's Day üíï</text></svg>'">
            </div>

            <div class="bear-stage dance-animation" id="valentineStage">
                <div class="bear-character bear-male" onclick="interactBears('valentine', 'celebration')">
                    <span class="bear-emoji">üß∏</span>
                    <div class="bear-name">Aishwary</div>
                </div>
                <div class="bear-character bear-female" onclick="interactBears('valentine', 'celebration')">
                    <span class="bear-emoji">üêª</span>
                    <div class="bear-name">Lakshita</div>
                </div>
            </div>

            <div class="instruction">
                üéâ We're dancing for you! Click for more love! üíÉüï∫
            </div>

            <div class="message-box">
                <p>üíï Thank you for making this week - and every day - so special, Lakshtuu! ‚ú®</p>
                <p>You mean the world to me, and I'm so grateful to have you in my life.</p>
                <p>Here's to many more adventures together! üåü</p>
                <p style="margin-top: 25px; font-style: italic; text-align: center; font-size: 1.2rem;">
                    With all my heart,<br>
                    <span style="font-size: 1.4rem; color: var(--heart); font-family: 'Pacifico', cursive;">- Aishwary üíô</span>
                </p>
            </div>
            
            <div class="love-notes">
                <span class="love-note-trigger" data-note="val1"></span>
                <span class="love-note-trigger" data-note="val2"></span>
                <span class="love-note-trigger" data-note="val3"></span>
            </div>
            
            <div class="buttons" style="margin-top: 35px;">
                <button class="btn" data-target="start" id="restartBtn">START OVER üíñ</button>
                <button class="btn secondary" id="celebrationBtn">CELEBRATE! üéâ</button>
            </div>
        </section>
    </div>

    <script>
        // Enhanced Sound System with Valentine's themed sounds
        class SoundSystem {
            constructor() {
                this.soundsEnabled = true;
                this.musicEnabled = false;
                this.soundCache = {};
                this.audioContext = null;
                this.init();
            }

            init() {
                this.preloadSounds();
                if (window.AudioContext || window.webkitAudioContext) {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
            }

            preloadSounds() {
                // Valentine's themed sounds
                this.soundCache = {
                    click: { frequencies: [800, 1000], durations: [0.1, 0.05], type: 'triangle' },
                    heart: { frequencies: [600, 800, 600], durations: [0.1, 0.1, 0.1], type: 'sine' },
                    kiss: { frequencies: [1200, 1000, 800], durations: [0.08, 0.1, 0.15], type: 'triangle' },
                    hug: { frequencies: [200, 250, 300, 280], durations: [0.15, 0.1, 0.2, 0.1], type: 'sine' },
                    jump: { frequencies: [500, 300, 600, 400], durations: [0.1, 0.15, 0.1, 0.1], type: 'triangle' },
                    sparkle: { frequencies: [1500, 1800, 2000, 1800], durations: [0.05, 0.05, 0.05, 0.05], type: 'triangle' },
                    celebration: { frequencies: [659.25, 783.99, 880.00, 987.77, 1046.50], durations: [0.15, 0.15, 0.15, 0.15, 0.3], type: 'sine' },
                    sad: { frequencies: [392.00, 349.23, 329.63], durations: [0.3, 0.3, 0.4], type: 'sine' },
                    woosh: { frequencies: [400, 800, 400], durations: [0.1, 0.1, 0.1], type: 'triangle' },
                    magic: { frequencies: [1000, 1200, 1400, 1600, 1400, 1200], durations: [0.08, 0.08, 0.08, 0.08, 0.08, 0.08], type: 'sine' },
                    rose: { frequencies: [523.25, 659.25, 783.99], durations: [0.2, 0.2, 0.3], type: 'sine' },
                    chocolate: { frequencies: [400, 600, 500, 700], durations: [0.1, 0.1, 0.1, 0.2], type: 'triangle' },
                    teddy: { frequencies: [261.63, 329.63, 392.00], durations: [0.25, 0.25, 0.3], type: 'sine' },
                    promise: { frequencies: [523.25, 587.33, 659.25, 698.46], durations: [0.2, 0.2, 0.2, 0.4], type: 'sine' },
                    valentine: { frequencies: [659.25, 783.99, 880.00, 987.77, 1046.50], durations: [0.15, 0.15, 0.15, 0.15, 0.3], type: 'sine' }
                };
            }

            playSound(soundName) {
                if (!this.soundsEnabled || !this.soundCache[soundName]) return;

                const sound = this.soundCache[soundName];
                
                if (this.audioContext && this.audioContext.state === 'suspended') {
                    this.audioContext.resume();
                }

                if (this.audioContext) {
                    this.playMultiTone(sound.frequencies, sound.durations, sound.type);
                }
            }

            playMultiTone(frequencies, durations, type = 'sine') {
                if (!this.audioContext || frequencies.length !== durations.length) return;

                let currentTime = this.audioContext.currentTime;
                
                frequencies.forEach((freq, index) => {
                    const oscillator = this.audioContext.createOscillator();
                    const gainNode = this.audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    oscillator.frequency.value = freq;
                    oscillator.type = type;
                    
                    gainNode.gain.setValueAtTime(0.15, currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, currentTime + durations[index]);
                    
                    oscillator.start(currentTime);
                    oscillator.stop(currentTime + durations[index]);
                    
                    currentTime += durations[index];
                });
            }

            toggleSounds() {
                this.soundsEnabled = !this.soundsEnabled;
                return this.soundsEnabled;
            }

            toggleMusic() {
                this.musicEnabled = !this.musicEnabled;
                return this.musicEnabled;
            }
        }

        // Animation System
        class AnimationSystem {
            constructor() {
                this.animations = {};
            }

            createSparkle(x, y, color = '#ffd700', size = 10) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                sparkle.style.background = color;
                sparkle.style.width = size + 'px';
                sparkle.style.height = size + 'px';
                
                return sparkle;
            }

            animateSparkle(sparkle, container) {
                container.appendChild(sparkle);
                
                const animation = sparkle.animate([
                    { opacity: 0, transform: 'scale(0) rotate(0deg)' },
                    { opacity: 1, transform: 'scale(1.5) rotate(180deg)' },
                    { opacity: 0, transform: 'scale(0) rotate(360deg)' }
                ], {
                    duration: 800,
                    easing: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'
                });
                
                animation.onfinish = () => sparkle.remove();
            }

            createConfetti(x, y, colors = ['#ff6b9d', '#ff9999', '#ffd700', '#6bb5ff']) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = x + 'px';
                confetti.style.top = y + 'px';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const size = Math.random() * 15 + 5;
                confetti.style.width = size + 'px';
                confetti.style.height = size + 'px';
                
                return confetti;
            }

            launchConfetti(count = 100, duration = 3000) {
                const container = document.getElementById('confettiContainer');
                const colors = ['#ff6b9d', '#ff9999', '#ffd700', '#6bb5ff', '#4285f4', '#34a853'];
                
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const confetti = this.createConfetti(
                            Math.random() * window.innerWidth,
                            window.innerHeight,
                            colors
                        );
                        
                        container.appendChild(confetti);
                        
                        const angle = Math.random() * Math.PI * 2;
                        const velocity = Math.random() * 5 + 2;
                        const rotation = Math.random() * 360;
                        
                        const animation = confetti.animate([
                            {
                                opacity: 0,
                                transform: `translate(0, 0) rotate(0deg)`
                            },
                            {
                                opacity: 1,
                                transform: `translate(${Math.cos(angle) * velocity * 100}px, ${-Math.sin(angle) * velocity * 100}px) rotate(${rotation}deg)`
                            },
                            {
                                opacity: 0,
                                transform: `translate(${Math.cos(angle) * velocity * 200}px, ${-window.innerHeight}px) rotate(${rotation * 3}deg)`
                            }
                        ], {
                            duration: duration,
                            easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                        });
                        
                        animation.onfinish = () => confetti.remove();
                    }, i * 20);
                }
            }

            createFirework(x, y, color = '#ffd700') {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.background = color;
                
                return firework;
            }

            launchFirework(x, y, color = '#ffd700', particles = 30) {
                const container = document.body;
                
                // Launch firework
                const firework = this.createFirework(x, window.innerHeight, color);
                container.appendChild(firework);
                
                const launch = firework.animate([
                    { top: window.innerHeight + 'px', opacity: 1 },
                    { top: y + 'px', opacity: 1 }
                ], {
                    duration: 800,
                    easing: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'
                });
                
                launch.onfinish = () => {
                    // Explode
                    firework.remove();
                    
                    for (let i = 0; i < particles; i++) {
                        setTimeout(() => {
                            const particle = this.createFirework(x, y, color);
                            container.appendChild(particle);
                            
                            const angle = (Math.PI * 2 * i) / particles;
                            const distance = Math.random() * 100 + 50;
                            
                            particle.animate([
                                {
                                    opacity: 1,
                                    transform: 'scale(1) translate(0, 0)'
                                },
                                {
                                    opacity: 0,
                                    transform: `scale(0) translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`
                                }
                            ], {
                                duration: 1200,
                                easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                            }).onfinish = () => particle.remove();
                        }, i * 30);
                    }
                };
            }

            createRainbowHeart(x, y) {
                const heart = document.createElement('div');
                heart.className = 'rainbow-heart';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                
                const hearts = ['üíñ', 'üíó', 'üíì', 'üíû', 'üíï', '‚ù§Ô∏è', 'üíò', 'üíù'];
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                
                const colors = ['#ff6b9d', '#ff9999', '#ffd700', '#6bb5ff', '#4285f4', '#34a853'];
                heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                
                return heart;
            }

            createRainbowHearts(count = 10, container) {
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const heart = this.createRainbowHeart(
                            Math.random() * container.offsetWidth,
                            container.offsetHeight
                        );
                        
                        container.appendChild(heart);
                        
                        setTimeout(() => heart.remove(), 3000);
                    }, i * 100);
                }
            }

            createButtonRipple(x, y, button) {
                const ripple = document.createElement('div');
                ripple.className = 'btn-ripple';
                ripple.style.left = (x - button.offsetLeft) + 'px';
                ripple.style.top = (y - button.offsetTop) + 'px';
                
                button.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            }

            showCelebrationMessage() {
                const message = document.getElementById('celebrationMessage');
                message.style.display = 'block';
                
                setTimeout(() => {
                    message.style.display = 'none';
                }, 3000);
            }

            showPageTransition(emoji = 'üíñ') {
                const transition = document.getElementById('pageTransition');
                transition.querySelector('.transition-text').textContent = emoji;
                transition.classList.add('active');
                
                setTimeout(() => {
                    transition.classList.remove('active');
                }, 1000);
            }
        }

        // Initialize systems
        const soundSystem = new SoundSystem();
        const animationSystem = new AnimationSystem();

        // Love notes
        const loveNotes = {
            start1: "Lakshita, you're the reason I believe in magic! ‚ú®",
            start2: "Every moment with you feels like a dream come true, Lakshtuu! üí≠",
            start3: "You light up my world in ways you can't even imagine! üåü",
            rose1: "Just like a rose needs sunlight, I need your smile to brighten my day! üåπ",
            rose2: "You're more beautiful than a garden full of roses, Lakshita! üíê",
            propose1: "If I could, I would choose you over and over again, Lakshtuu! üíç",
            propose2: "You're not just special, you're extraordinary in every way! ‚ú®",
            choco1: "You're the sweetest thing that ever happened to me! üç´",
            choco2: "Life with you is like an endless box of chocolates - always sweet! üç¨",
            teddy1: "Your hugs feel like home, Lakshita! üè†",
            teddy2: "I could cuddle with you forever and never get tired! üß∏",
            promise1: "I promise to make you smile every single day, Lakshtuu! üòä",
            promise2: "You have my heart, today and always! ‚ù§Ô∏è",
            hug1: "This virtual hug comes with unlimited love attached! ü§ó",
            hug2: "If I could hug you right now, I would never let go! üíï",
            kiss1: "Every kiss I send you carries a thousand feelings! üíã",
            kiss2: "You deserve all the love and kisses in the world, Lakshita! üòò",
            val1: "Thank you for being YOU - perfectly imperfect and absolutely amazing! üåü",
            val2: "My favorite place is wherever you are, Lakshtuu! üíñ",
            val3: "Forever and always, you'll be my Valentine! üíï"
        };

        // Enhanced bear interactions
        function interactBears(day, type = 'wave') {
            soundSystem.playSound('click');
            
            // Play day-specific sounds
            if (day === 'rose') soundSystem.playSound('rose');
            else if (day === 'chocolate') soundSystem.playSound('chocolate');
            else if (day === 'teddy') soundSystem.playSound('teddy');
            else if (day === 'promise') soundSystem.playSound('promise');
            else if (day === 'valentine') soundSystem.playSound('valentine');
            
            const stage = document.getElementById(day + 'Stage');
            
            // Reset animations
            stage.classList.remove('hug-animation', 'kiss-animation', 'wave-animation', 'jump-animation');
            void stage.offsetWidth;
            
            switch(type) {
                case 'hug':
                    soundSystem.playSound('hug');
                    stage.classList.add('hug-animation');
                    createMassiveHeartExplosion(stage);
                    animationSystem.launchConfetti(50);
                    break;
                    
                case 'kiss':
                    soundSystem.playSound('kiss');
                    stage.classList.add('kiss-animation');
                    createFlyingKisses(stage);
                    soundSystem.playSound('sparkle');
                    break;
                    
                case 'jump':
                    soundSystem.playSound('jump');
                    stage.classList.add('jump-animation');
                    createHeartExplosion(stage);
                    break;
                    
                case 'special':
                    soundSystem.playSound('magic');
                    stage.classList.add('wave-animation');
                    createRainbowHearts(15, stage);
                    animationSystem.launchFirework(
                        stage.offsetWidth / 2,
                        stage.offsetHeight / 2,
                        '#ff6b9d'
                    );
                    break;
                    
                case 'celebration':
                    soundSystem.playSound('celebration');
                    stage.classList.add('jump-animation');
                    createMassiveHeartExplosion(stage);
                    animationSystem.launchConfetti(200);
                    animationSystem.showCelebrationMessage();
                    for (let i = 0; i < 3; i++) {
                        setTimeout(() => {
                            animationSystem.launchFirework(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight / 2,
                                ['#ff6b9d', '#ff9999', '#ffd700'][i]
                            );
                        }, i * 500);
                    }
                    break;
                    
                default:
                    soundSystem.playSound('heart');
                    stage.classList.add('wave-animation');
                    createHeartExplosion(stage);
                    break;
            }
            
            setTimeout(() => {
                stage.classList.remove('hug-animation', 'kiss-animation', 'wave-animation', 'jump-animation');
            }, 2500);
        }

        function playSadSound() {
            soundSystem.playSound('sad');
            animationSystem.launchConfetti(30, 5000);
        }

        // Heart explosions
        function createHeartExplosion(stage) {
            const hearts = ['üíñ', 'üíó', 'üíì', 'üíû', 'üíï', '‚ù§Ô∏è', 'üíò'];
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart-explosion';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = (35 + Math.random() * 30) + '%';
                    heart.style.top = (30 + Math.random() * 40) + '%';
                    stage.appendChild(heart);
                    setTimeout(() => heart.remove(), 2200);
                }, i * 150);
            }
        }

        function createMassiveHeartExplosion(stage) {
            const hearts = ['üíñ', 'üíó', 'üíì', 'üíû', 'üíï', '‚ù§Ô∏è', 'üíò', 'üíù'];
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart-explosion';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = (25 + Math.random() * 50) + '%';
                    heart.style.top = (20 + Math.random() * 60) + '%';
                    stage.appendChild(heart);
                    setTimeout(() => heart.remove(), 2200);
                }, i * 120);
            }
        }

        function createFlyingKisses(stage) {
            for (let i = 0; i < 4; i++) {
                setTimeout(() => {
                    const kiss = document.createElement('div');
                    kiss.className = 'kiss-heart from-' + (i % 2 === 0 ? 'male' : 'female');
                    kiss.textContent = 'üíã';
                    stage.appendChild(kiss);
                    setTimeout(() => kiss.remove(), 2500);
                }, i * 400);
            }
        }

        // Floating hearts
        function createFloatingHearts() {
            const container = document.getElementById('floatingHearts');
            const hearts = ['üíñ', 'üíó', 'üíì', 'üíû', 'üíï', 'üíò', '‚ù§Ô∏è', 'üíù'];
            
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = Math.random() > 0.7 ? 'special-heart' : 'heart';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDelay = Math.random() * 3 + 's';
                    heart.style.fontSize = (Math.random() * 25 + 25) + 'px';
                    
                    if (heart.className === 'special-heart') {
                        const colors = ['#ff6b9d', '#ff9999', '#ffd700', '#6bb5ff'];
                        heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                    }
                    
                    container.appendChild(heart);
                    setTimeout(() => heart.remove(), 9000);
                }, i * 350);
            }
        }

        // Page navigation with transition
        function showPage(name) {
            soundSystem.playSound('click');
            animationSystem.showPageTransition(['üíñ', 'üíï', 'üíù', 'üéâ'][Math.floor(Math.random() * 4)]);
            
            setTimeout(() => {
                document.querySelectorAll(".page").forEach(page => page.classList.remove("is-active"));
                const target = document.querySelector(`[data-page="${name}"]`);
                if (target) {
                    target.classList.add("is-active");
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // Play page-specific sound
                    if (name === 'rose') soundSystem.playSound('rose');
                    else if (name === 'propose') soundSystem.playSound('magic');
                    else if (name === 'chocolate') soundSystem.playSound('chocolate');
                    else if (name === 'teddy') soundSystem.playSound('teddy');
                    else if (name === 'promise') soundSystem.playSound('promise');
                    else if (name === 'hug') soundSystem.playSound('hug');
                    else if (name === 'kiss') soundSystem.playSound('kiss');
                    else if (name === 'valentine') soundSystem.playSound('valentine');
                    
                    // Create floating hearts on specific pages
                    if (['rose', 'valentine', 'kiss', 'hug', 'propose'].includes(name)) {
                        createFloatingHearts();
                    }
                    
                    // Special effects for Valentine's page
                    if (name === 'valentine') {
                        setTimeout(() => {
                            animationSystem.launchConfetti(50);
                            soundSystem.playSound('celebration');
                        }, 500);
                    }
                }
            }, 500);
        }

        // Initialize event listeners
        function initEventListeners() {
            // Love notes
            document.querySelectorAll('.love-note-trigger').forEach(trigger => {
                trigger.addEventListener('click', function(e) {
                    soundSystem.playSound('sparkle');
                    animationSystem.createButtonRipple(e.clientX, e.clientY, this);
                    
                    const noteId = this.dataset.note;
                    const noteContent = loveNotes[noteId];
                    
                    document.getElementById('loveNoteContent').innerHTML = `
                        <div style="text-align: center; margin-bottom: 25px; font-size: 60px;">üíå</div>
                        <p style="font-family: 'Patrick Hand', cursive; font-size: 1.5rem; line-height: 2; color: var(--pink-dark); text-align: center;">
                            ${noteContent}
                        </p>
                    `;
                    
                    document.getElementById('loveNotePopup').classList.add('active');
                    document.getElementById('overlay').classList.add('active');
                });
            });

            // Close note popup
            document.getElementById('closeNote').addEventListener('click', function() {
                soundSystem.playSound('click');
                document.getElementById('loveNotePopup').classList.remove('active');
                document.getElementById('overlay').classList.remove('active');
            });

            document.getElementById('overlay').addEventListener('click', function() {
                soundSystem.playSound('click');
                document.getElementById('loveNotePopup').classList.remove('active');
                this.classList.remove('active');
            });

            // Music toggle
            document.getElementById('musicToggle').addEventListener('click', function(e) {
                animationSystem.createButtonRipple(e.clientX, e.clientY, this);
                soundSystem.playSound('click');
                const enabled = soundSystem.toggleMusic();
                this.textContent = enabled ? 'üîä' : 'üéµ';
            });

            // Sound effects toggle
            document.getElementById('soundToggle').addEventListener('click', function(e) {
                animationSystem.createButtonRipple(e.clientX, e.clientY, this);
                soundSystem.playSound('click');
                const enabled = soundSystem.toggleSounds();
                this.textContent = enabled ? 'üîä' : 'üîá';
            });

            // Celebration button
            document.getElementById('celebrationBtn')?.addEventListener('click', function(e) {
                animationSystem.createButtonRipple(e.clientX, e.clientY, this);
                soundSystem.playSound('celebration');
                animationSystem.launchConfetti(300);
                animationSystem.showCelebrationMessage();
                
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        animationSystem.launchFirework(
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight / 2,
                            ['#ff6b9d', '#ff9999', '#ffd700', '#6bb5ff', '#4285f4'][i]
                        );
                    }, i * 300);
                }
            });

            // Button navigation with ripple effects
            document.addEventListener("click", (event) => {
                const targetButton = event.target.closest("[data-target]");
                if (targetButton) {
                    animationSystem.createButtonRipple(event.clientX, event.clientY, targetButton);
                    soundSystem.playSound('click');
                    showPage(targetButton.dataset.target);
                    return;
                }

                const nextButton = event.target.closest("[data-next]");
                if (nextButton) {
                    animationSystem.createButtonRipple(event.clientX, event.clientY, nextButton);
                    soundSystem.playSound('click');
                    showPage(nextButton.dataset.next);
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    const nextBtn = document.querySelector('.page.is-active [data-next]');
                    if (nextBtn) {
                        e.preventDefault();
                        nextBtn.click();
                    }
                }
            });

            // Sparkle effects on headings
            document.querySelectorAll('.sparkle-text').forEach(text => {
                text.addEventListener('mouseenter', (e) => {
                    const rect = text.getBoundingClientRect();
                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => {
                            const sparkle = animationSystem.createSparkle(
                                Math.random() * rect.width,
                                Math.random() * rect.height,
                                ['#ffd700', '#ff6b9d', '#6bb5ff'][Math.floor(Math.random() * 3)],
                                Math.random() * 8 + 4
                            );
                            animationSystem.animateSparkle(sparkle, text);
                            soundSystem.playSound('sparkle');
                        }, i * 100);
                    }
                });
            });

            // Photo frame sparkles
            document.querySelectorAll('.photo-frame').forEach(frame => {
                frame.addEventListener('mouseenter', () => {
                    const rect = frame.getBoundingClientRect();
                    for (let i = 0; i < 8; i++) {
                        setTimeout(() => {
                            const sparkle = document.createElement('div');
                            sparkle.className = 'photo-sparkle';
                            sparkle.style.left = (Math.random() * rect.width) + 'px';
                            sparkle.style.top = (Math.random() * rect.height) + 'px';
                            frame.appendChild(sparkle);
                            
                            sparkle.animate([
                                { opacity: 0, transform: 'scale(0)' },
                                { opacity: 1, transform: 'scale(1)' },
                                { opacity: 0, transform: 'scale(0)' }
                            ], {
                                duration: 1000,
                                easing: 'ease-out'
                            }).onfinish = () => sparkle.remove();
                            
                            soundSystem.playSound('sparkle');
                        }, i * 150);
                    }
                });
            });

            // Instruction sparkles
            document.querySelectorAll('.instruction').forEach(instruction => {
                setInterval(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'instruction-sparkle';
                    sparkle.style.left = (Math.random() * instruction.offsetWidth) + 'px';
                    sparkle.style.top = (Math.random() * instruction.offsetHeight) + 'px';
                    instruction.appendChild(sparkle);
                    
                    sparkle.animate([
                        { opacity: 0, transform: 'scale(0)' },
                        { opacity: 1, transform: 'scale(1.5)' },
                        { opacity: 0, transform: 'scale(0)' }
                    ], {
                        duration: 800,
                        easing: 'ease-in-out'
                    }).onfinish = () => sparkle.remove();
                }, 2000);
            });
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            initEventListeners();
            setTimeout(createFloatingHearts, 500);
            
            // Add sad shake animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes sadShake {
                    0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
                    25% { transform: translate(-50%, -50%) rotate(-5deg); }
                    75% { transform: translate(-50%, -50%) rotate(5deg); }
                }
                
                @keyframes borderGlow {
                    0% { background-position: 0% 50%; }
                    100% { background-position: 200% 50%; }
                }
            `;
            document.head.appendChild(style);
            
            // Initial celebration
            setTimeout(() => {
                animationSystem.launchConfetti(30);
                soundSystem.playSound('valentine');
            }, 1000);
        });

        // Touch device support
        document.addEventListener('touchstart', function() {}, {passive: true});
    </script>
</body>
</html>
